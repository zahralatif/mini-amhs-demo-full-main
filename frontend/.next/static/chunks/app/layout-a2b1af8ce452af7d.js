(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8336:function(e,t,r){Promise.resolve().then(r.bind(r,2801))},2801:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(7437),o=r(6907),a=r(7651),i=r(2265),l=r(6727),s=r(4990),c=r(3494),u=r(511),d=r(6548),h=(0,r(9018).Z)((0,n.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh");class m extends i.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,n.jsx)(l.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",p:3},children:(0,n.jsxs)(s.Z,{elevation:3,sx:{p:4,maxWidth:600,textAlign:"center"},children:[(0,n.jsxs)(c.Z,{severity:"error",sx:{mb:3},children:[(0,n.jsx)(u.Z,{variant:"h6",component:"div",gutterBottom:!0,children:"Something went wrong"}),(0,n.jsx)(u.Z,{variant:"body2",color:"text.secondary",children:"An unexpected error occurred. Please try refreshing the page."})]}),!1,(0,n.jsx)(d.Z,{variant:"contained",startIcon:(0,n.jsx)(h,{}),onClick:this.handleReset,sx:{mt:3},children:"Try Again"})]})}):this.props.children}constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.state={hasError:!1}}}function f(e){let{children:t}=e;return(0,n.jsxs)("html",{lang:"en",children:[(0,n.jsxs)("head",{children:[(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("meta",{name:"description",content:"Mini AMHS - A modern messaging system demo"}),(0,n.jsx)("title",{children:"Mini AMHS"})]}),(0,n.jsx)("body",{children:(0,n.jsx)(m,{children:(0,n.jsx)(a.H,{children:(0,n.jsx)(o.Z,{children:t})})})})]})}},6264:function(e,t,r){"use strict";r.d(t,{ty:function(){return a},xA:function(){return o}});let n="http://localhost:8080";async function o(e,t){let r=await fetch("".concat(n).concat(e),{method:"GET",headers:{"Content-Type":"application/json",...t?{Authorization:"Bearer ".concat(t)}:{}}});if(!r.ok)throw Error(await r.text()||"HTTP ".concat(r.status,": ").concat(r.statusText));return r.json()}async function a(e,t,r){let o=await fetch("".concat(n).concat(e),{method:"POST",headers:{"Content-Type":"application/json",...r?{Authorization:"Bearer ".concat(r)}:{}},body:JSON.stringify(t)});if(!o.ok)throw Error(await o.text()||"HTTP ".concat(o.status,": ").concat(o.statusText));return o.json()}},7651:function(e,t,r){"use strict";r.d(t,{H:function(){return l},a:function(){return s}});var n=r(7437),o=r(2265),a=r(6264);let i=(0,o.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,o.useState)(null),[s,c]=(0,o.useState)(null),[u,d]=(0,o.useState)(!0);(0,o.useEffect)(()=>{(()=>{try{let e=localStorage.getItem("jwt_token"),t=localStorage.getItem("username");e&&t&&(l(e),c(t))}catch(e){console.error("Error initializing auth:",e),localStorage.removeItem("jwt_token"),localStorage.removeItem("username")}finally{d(!1)}})()},[]);let h=async(e,t)=>{try{let r=await (0,a.ty)("/api/login",{username:e,password:t});if(!r.token)throw Error("Invalid response: No token received");l(r.token),c(e);try{localStorage.setItem("jwt_token",r.token),localStorage.setItem("username",e)}catch(e){console.warn("Failed to store auth data in localStorage:",e)}}catch(e){throw console.error("Login failed:",e),e}},m=async(e,t)=>{try{await (0,a.ty)("/api/register",{username:e,password:t}),await h(e,t)}catch(e){throw console.error("Registration failed:",e),e}};return(0,n.jsx)(i.Provider,{value:{token:r,username:s,register:m,login:h,logout:()=>{try{l(null),c(null),localStorage.removeItem("jwt_token"),localStorage.removeItem("username")}catch(e){console.error("Error during logout:",e),l(null),c(null)}},isLoading:u},children:t})}function s(){let e=(0,o.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},124:function(e,t,r){"use strict";var n=r(2988),o=r(2265),a=r(5885),i=r(4051),l=r(7437);let s=(e,t)=>(0,n.Z)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),c=e=>(0,n.Z)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),u=function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o={};r&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(t=>{var r;let[n,a]=t;o[e.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:null==(r=a.palette)?void 0:r.mode}});let a=(0,n.Z)({html:s(e,r),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,n.Z)({margin:0},c(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},o),i=null==(t=e.components)||null==(t=t.MuiCssBaseline)?void 0:t.styleOverrides;return i&&(a=[a,i]),a};t.ZP=function(e){let{children:t,enableColorScheme:r=!1}=(0,a.i)({props:e,name:"MuiCssBaseline"});return(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(i.Z,{styles:e=>u(e,r)}),t]})}},6395:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(2988),o=r(3950),a=r(2265);let i=a.createContext(null);function l(){return a.useContext(i)}var s="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",c=r(7437),u=function(e){let{children:t,theme:r}=e,o=l(),u=a.useMemo(()=>{let e=null===o?r:"function"==typeof r?r(o):(0,n.Z)({},o,r);return null!=e&&(e[s]=null!==o),e},[r,o]);return(0,c.jsx)(i.Provider,{value:u,children:t})},d=r(8437),h=r(8931),m=r(7749),f=r(6755),g=r(3815),p=r(292),y=r(3650);let x={};function v(e,t,r){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return a.useMemo(()=>{let a=e&&t[e]||t;if("function"==typeof r){let i=r(a),l=e?(0,n.Z)({},t,{[e]:i}):i;return o?()=>l:l}return e?(0,n.Z)({},t,{[e]:r}):(0,n.Z)({},t,r)},[e,t,r,o])}var F=function(e){let{children:t,theme:r,themeId:n}=e,o=(0,h.Z)(x),a=l()||x,i=v(n,o,r),s=v(n,a,r,!0),F="rtl"===i.direction,S=function(e){let t=(0,h.Z)(),r=(0,p.Z)()||"",{modularCssLayers:n}=e,o="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return(o=n&&null===t?"string"==typeof n?n.replace(/mui(?!\.)/g,o):"@layer ".concat(o,";"):"",(0,g.Z)(()=>{var e,t;let n=document.querySelector("head");if(!n)return;let a=n.firstChild;if(o){if(a&&null!=(e=a.hasAttribute)&&e.call(a,"data-mui-layer-order")&&a.getAttribute("data-mui-layer-order")===r)return;let t=document.createElement("style");t.setAttribute("data-mui-layer-order",r),t.textContent=o,n.prepend(t)}else null==(t=n.querySelector('style[data-mui-layer-order="'.concat(r,'"]')))||t.remove()},[o,r]),o)?(0,c.jsx)(y.Z,{styles:o}):null}(i);return(0,c.jsx)(u,{theme:s,children:(0,c.jsx)(d.T.Provider,{value:i,children:(0,c.jsx)(m.Z,{value:F,children:(0,c.jsxs)(f.Z,{value:null==i?void 0:i.components,children:[S,t]})})})})},S=r(2737);let b=["theme"];function j(e){let{theme:t}=e,r=(0,o.Z)(e,b),a=t[S.Z],i=a||t;return"function"!=typeof t&&(a&&!a.vars?i=(0,n.Z)({},a,{vars:null}):t&&!t.vars&&(i=(0,n.Z)({},t,{vars:null}))),(0,c.jsx)(F,(0,n.Z)({},r,{themeId:a?S.Z:void 0,theme:i}))}},6907:function(e,t,r){"use strict";r.d(t,{k:function(){return c},Z:function(){return u}});var n=r(7437),o=r(2265),a=r(6395),i=r(124),l=r(4444),s=e=>{let t="dark"===e;return(0,l.Z)({palette:{mode:e,primary:{main:"#7C3AED",light:"#9F67FF",dark:"#5B21B6",contrastText:"#FFFFFF"},secondary:{main:"#10B981",light:"#34D399",dark:"#059669",contrastText:"#FFFFFF"},background:{default:t?"#0B0B0F":"#FAFAFA",paper:t?"#12121A":"#FFFFFF"},text:{primary:t?"#FFFFFF":"#111827",secondary:t?"#C7C7D1":"#4B5563"},brand:{main:"#7C3AED",light:"#9F67FF",dark:"#5B21B6",contrastText:"#FFFFFF"},error:{main:"#EF4444",light:"#F87171",dark:"#DC2626"},warning:{main:"#F59E0B",light:"#FBBF24",dark:"#D97706"},success:{main:"#10B981",light:"#34D399",dark:"#059669"}},shape:{borderRadius:16},typography:{fontFamily:"'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif",h1:{fontWeight:700,fontSize:"2.5rem"},h2:{fontWeight:600,fontSize:"2rem"},h3:{fontWeight:600,fontSize:"1.5rem"},h4:{fontWeight:600,fontSize:"1.25rem"},h5:{fontWeight:600,fontSize:"1.125rem"},h6:{fontWeight:600,fontSize:"1rem"}},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",borderRadius:14,fontWeight:500,padding:"8px 16px"}}},MuiPaper:{styleOverrides:{root:{borderRadius:18,backgroundImage:"none"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:12}}}},MuiAppBar:{styleOverrides:{root:{backgroundImage:"none",boxShadow:"none"}}}}})};let c=o.createContext({toggleColorMode:()=>{},mode:"dark"});function u(e){let{children:t}=e,[r,l]=o.useState("dark");o.useEffect(()=>{let e=localStorage.getItem("theme-mode");e&&("light"===e||"dark"===e)&&l(e)},[]);let u=o.useMemo(()=>({toggleColorMode:()=>{l(e=>{let t="light"===e?"dark":"light";return localStorage.setItem("theme-mode",t),t})},mode:r}),[r]),d=o.useMemo(()=>s(r),[r]);return(0,n.jsx)(c.Provider,{value:u,children:(0,n.jsxs)(a.Z,{theme:d,children:[(0,n.jsx)(i.ZP,{}),t]})})}}},function(e){e.O(0,[257,167,971,23,744],function(){return e(e.s=8336)}),_N_E=e.O()}]);